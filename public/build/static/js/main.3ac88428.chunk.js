(this.webpackJsonpphotovoltaicexpert=this.webpackJsonpphotovoltaicexpert||[]).push([[0],{117:function(e){e.exports=JSON.parse('{"pag":{"default":{"btt_save":"Apply","btt_cancel":"Cancel","dlg":{"router_confirm":{"title":"Warning! Data not saved","text":"By continuing you will lose the modified data\\nbecause they weren\'t saved.\\nDo you want to continue?","labelOk":"Yes, change page","labelCancel":"No! Stay here"}}},"user":{"title":"Users list","tbl":{"username":"User name","role":"Role","actions":"Actions"},"btt_new":"New User","dlg":{"title_new":"New user","title_edit":"Edit user","lbl_username":"User name","lbl_role":"Role","lbl_password":"Password","lbl_password2":"Retype password","save":"Save","cancel":"Cancel"}},"profile":{"title":"Profile","par_general":"General","prp_username":"Name","prp_role":"Role","btn_change_password":"Change Password","dlg":{"title":"Change password","save":"Change!","cancel":"Cancel"}},"login":{"title":"Sign in","username":"User name","password":"Password","btt_signin":"Sign in"},"password":{"title":"Change password","oldpassword":"Old password","password":"New password","repassword":"Retype password","btt_change":"Change","btt_logout":"Sign out","msg_success":"password changed successfully"},"network":{"title":"Network Setting","par_adderess":"Address","par_extern":"Extern","prp_ip":"Ip","prp_subnet":"Subnet","prp_gateway":"Gateway IP","prp_modem1ka":"Modem 1 KA","prp_modem1ku":"Modem 1 KU","prp_modem1x":"Modem 1 X","prp_modem2ka":"Modem 2 KA","prp_modem2ku":"Modem 2 KU","prp_modem2x":"Modem 2 X","prp_acu1":"ACU1","prp_acu2":"ACU2","prp_slu":"SLU IP","msg_sdu_save_success":"You have successfully modified the SDU!","msg_sdu_ext_save_success":"You have successfully modified the SDU external!"},"antenna":{"title":"Antenna Setting","position":{"title":"Position","absolute":"Absolute","relative":"Relative","azimuth":"Azimuth","elevation":"Elevation","lnb":"LNB Polarization","adv":{"title":"Advanced","errors":{"title":"Errors","x":"Error X","y":"Error Y","z":"Error Z","xf":"Error XF","zf":"Error ZF"},"attributes":{"title":"Attributes","tilt":"Tilt","bx":"BX","by":"BY","bz":"BZ"}}},"offset":{"title":"Offset","c_heading":"C Heading","c_elevation":"C Elevation","c_skew":"C Skew","dlg":{"success":"You have succefully modified the offsets parameters"}},"signal":{"title":"Signal","lbl_signal":"Signal"},"mirror_position":{"title":"Mirror Position","lbl_mirror_position":"Mirror Position"},"state":{"title":"State","acu":"From ACU","acu2":"read-only ACU value","user":"User Settings","dlg":{"success":"You have succefully modified the state"}},"satellite":{"title":"Current Satellite","select":"Satellite Select","longitude":"Longitude","screw":"Screw","frequency":"Frequency","rx_polarization":"RX Polarization","tx_polarization":"TX Polarization","dlg":{"title":"Select a Satellite","save":"Save","cancel":"Cancel","name":"Name","longitude":"Longitude","frequency":"Frequency","success":"You have succefully modified the satellite"}},"search":{"title":"Search Parameters","threshold":"Threshold","step_unit":"Step Unit","extension":"Extension","dlg":{"success":"You have succefully modified the search parameters"}},"axis_blockage":{"title":"Axis Blockage","lbl_azimuth_blockage":"Azimuth","lbl_elevation_blockage":"Elevation","lbl_x_level_blockage":"X Level","lbl_polarization_blockage":"Polarization","lbl_mirror_blockage":"Mirror"}},"satellite":{"title":"Satellites","btt_new":"New Satellite","btt_import":"Import","tbl":{"name":"Name","antenna":"Antenna","longitude":"Longitude","actions":"Actions"},"dlg":{"title_edit":"Modify Satellite","title_new":"New Satellite","lbl_antenna":"Antenna number","lbl_name":"Name","lbl_longitude":"Longitude","lbl_frequency":"Frequency","lbl_polarization":"Polarization","lbl_v_pid":"V Pid","lbl_symbol_rate":"Symbol Rate","lbl_signal_threshold":"Threshold","lbl_sk_offset":"Sk Offset","save":"Save","cancel":"Cancel","import":{"title":"Import Satellites","import":"Import","cancel":"Cancel","success":"You have succefully update the satellites"}}},"ship":{"title":"Ship","main":{"title":"GPS and Gyro","latitude":"Latitude","longitude":"Longitude","heading":"Heading"}},"slu":{"title":"SLU","matrix":{"title":"Matrix"},"conf":{"title":"Settings","output":"Output","input":"Input","antenna1":"Antenna 1","antenna2":"Antenna 2","ka":"KA","ku":"KU","x":"X","dlg":{"success":"You have succefully modified the SLU config","err_same":{"title":"Avoid equal values","text_in":"In the inputs there are at least two equal values","text_out":"In the outputs there are at least two equal values"}}}},"antennasys":{"title":"Antenna System","enable":{"title":"Enable","lbl_enable":"Enable","lbl_disable":"Disable","antenna1":"Antenna 1","antenna2":"Antenna 2","dlg":{"success":"You have succefully modified the antenna"}},"settings":{"title":"Settings","lbl_share":"Share Modem","lbl_band1":"Antenna 1 Band","lbl_band2":"Antenna 2 Band","lbl_mode":"Mode","dlg":{"success":"You have succefully modified the antenna","role_backup":{"title":"The bands must be the same","text":"In backup mode then the band of both antennas must be the same","ok":"Ok"},"role_standalone_share":{"title":"No same band","text":"if the modems are in share then the band of both antennas must be different","text_ka_x_1":"if the modems are in share and antenna 1 is in \'KA-X\' then antenna 2 must be KU","text_ka_x_2":"if the modems are in share and antenna 2 is in \'KA-X\' then antenna 1 must be KU","ok":"Ok"}}}},"chart":{"title":"Chart","selector":{"title":"Selector","lbl_types":"Types","lbl_view":"View","lbl_antenna":"Antennas","lbl_timespan":"Minutes","btt_save":"Apply","dlg":{"success":"You have succefully modified the selector"}},"relative_azimuth":{"title":"Azimut Relative"},"heading":{"title":"Heading"},"relative_elevation":{"title":"Elevation Relative"},"signal":{"title":"Signal"},"el_graph":{"title":"Azimut Elevation"},"union":{"title":"Antennas","title1":"Antenna 1","title2":"Antenna 2"}}},"validation":{"obligatory":"This field is mandatory","same_password":"must be the same as the password","not_the_same":"the two values must be different"},"dialog":{"error":{"400":{"default":{"title":"Bad request","text":"Something was entered incorrectly. Try again.","ok":"Ok"},"password_match":{"title":"Wrong username or password","text":"We couldn\'t find your account.\\nPlease try again or contact the administrator","ok":"Ok, I will!"}},"401":{"default":{"title":"Unauthorized access","text":"Strange, you shouldn\'t be here","ok":"try again"}},"500":{"default":{"text":"Something went wrong! Please try again or contact the administrator","ok":"Certainly"}},"default":{"title":"Error","text":"Something went wrong!","ok":"Ok"},"users":{"unique":{"title":"Ooops...","text":"Username already exists. Try to change it"},"old_password_match":{"title":"Mmmm...","text":"Old password not match. Try again"}}},"delete":{"title":"WARNING!!!","text":"Are you sure you want to delete it?","ok":"Yes!","cancel":"No"},"render_error":{"title":"Unhandled error!","body":"If the problem persists contact the administrator","reload":"Reload"}},"app":{"bar":{"title":"Web app: 3WayCom"},"drawer":{"dashboard":"Dashboard","ship":"Ship","antenna1":"Antenna 1","antenna2":"Antenna 2","satellite":"Satellites","slu":"SLU","antennasys":"Antenna System","chart":"Chart","admin":{"title":"Administration","user":"User","network":"Network","diagnostic":"Diagnostic","firmware":"Firmware"}},"avatar":{"profile":"My Profile","logout":"Sign out","dark":"Dark"},"roles":{"100":"admin","200":"crew"},"auth":{"msg_login":"you have logged in successfully","msg_logout":"you have logged out successfully"},"socket":{"ico":{"connected":"connected","retry":"retry","error":"error"},"dialog":{"error":{"title":"Socket connection error","text":"I can\'t connect to the server.\\nTry to check the connection","ok":"Ok"}}},"tooltip":{"clipboard":"copy to clipboard"},"footer":{"antenna":{"antenna":"Antenna","state":"State","satellite":"Satellite select","signal":"Signal value"}},"antenna":{"number":{"1":"Antenna 1","2":"Antenna 2"},"mode":{"0":"unknown","1":"basic","2":"search","3":"tracking","null":"unknown"},"modesys":{"1":"standalone","2":"backup","null":"--"},"band":{"1":"ka","2":"ku","3":"x","4":"ka-x","null":"--"},"enabled":{"null":"--","true":"enabled","false":"disabled"},"shared":{"null":"--","true":"shared","false":"not shared"}},"satellite":{"polarization":{"H":"horizontal","V":"vertical"}},"chart":{"enabled":{"RELATIVE_AZIMUTH":"Rel. Azimut","HEADING":"Heading","RELATIVE_ELEVATION":"Rel. Elevation","SIGNAL":"Signal"},"aggregate":{"true":"Single","false":"Multi"}}}}')},12:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return v})),n.d(t,"c",(function(){return _}));var a,r,s,o=n(23),i=n(0),c=n.n(i),l=n(8),u=n.n(l),d=n(20),p=n(18);var b={},j=function(e,t){return t(e)};function h(e){a=e,r=Object.keys(a).reduce((function(e,t){return e[t]=c.a.createContext(),e[t].displayName=t,e}),{}),s=Object.keys(a).reduce((function(e,t){return e[t]=function(e){var t={_reducer:null,_bundle:null,get state(){return t._reducer[0]},get d(){return t._reducer[1]},_update:function(e){return t.d((function(e){return Object(p.a)({},e)}))}};return e.getters&&(t=Object.keys(e.getters).reduce((function(n,a){return n[a]=function(n){return e.getters[a](t.state,n,t,t._bundle)},n}),t)),e.actions&&(t=Object.keys(e.actions).reduce((function(n,a){return n[a]=function(){var n=Object(d.a)(u.a.mark((function n(r){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.actions[a](t.state,r,t,t._bundle);case 2:return s=n.sent,n.abrupt("return",s);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),n}),t)),e.actionsSync&&(t=Object.keys(e.actionsSync).reduce((function(n,a){return n[a]=function(n){return e.actionsSync[a](t.state,n,t,t._bundle)},n}),t)),e.mutators&&(t=Object.keys(e.mutators).reduce((function(n,a){return n[a]=function(n){return t.d((function(r){var s=e.mutators[a](r,n,t,t._bundle);return null==s?r:Object(p.a)(Object(p.a)({},r),s)}))},n}),t)),t}(a[t]),e}),{})}function f(e,t){return function(e,t,n){return e._reducer=t,e._bundle=n,e}(s[e],b[e],t)}function g(e,t){return function(e,t,n){var a=Object(i.useContext)(t);return e._reducer=a,e._bundle=n,e}(s[e],r[e],t)}var m=function e(t){var n=t.providers,s=t.children;null==n&&(n=Object.keys(a));var l=Object(o.a)(n),u=l.shift(),d=Object(i.useReducer)(j,a[u].state);b[u]=d;var p=r[u];return c.a.createElement(p.Provider,{value:d},l.length>0?c.a.createElement(e,{providers:l,children:s}):s)},O=n(11),x=[];function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!1;x.forEach((function(e){var t=e(),a=Object(O.a)(t,2),r=a[0],s=a[1];null!=r.current&&0==n&&0==s&&(n=!0,r.current.focus())})),t.forEach((function(e){0==e()&&(n=!0)})),n||e&&e()}function w(e){var t=Object(i.useState)(),n=Object(O.a)(t,2),a=n[0],r=n[1],s=Object(i.useRef)(null);function o(){return[s,!s.current||c(s.current.value)]}function c(t){var n=null;return Object.keys(e).find((function(a){return n=e[a](t)})),r(n),null==n}return Object(i.useEffect)((function(){return x.push(o),function(){return x=[]}}),[s]),[a,function(){return null!=a},function(e){var t=e.target.value;return c(t),t},s,function(e){if(null==s.current)return function(){return!0};var t=e(s.current.value);return function(){return r(t),s.current.focus(),null==t}}]}var _={obligatory:function(e){if(!(null!=e&&e.trim().length>0))return"validation.obligatory"},repassword:function(e){return function(t){if(t!=e)return"validation.same_password"}},notTheSame:function(e){return function(t){if(t==e)return"validation.not_the_same"}}}},139:function(e,t,n){},152:function(e,t,n){"true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MOCK&&(n(155).worker.start(),window.getStoreAuth=function(){return(0,n(30).getStoreAuth)()})},154:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),s=n.n(r),o=n(16),i=n.n(o),c=(n(139),n(247)),l=n(191),u=n(195),d=n(196),p=n(197),b=n(198),j=n(199),h=n(254),f=n(201),g=n(203),m=n(202),O=n(17);function x(){var e=Object(O.b)(),t=e.state,n=e.dialogClose,r=v();return t.dialogModal?Object(a.jsxs)(l.a,{open:t.dialogIsOpen,onClose:function(){return n(!1)},children:[Object(a.jsx)(u.a,{className:r[t.dialogType],children:t.dialogTitle}),Object(a.jsx)(d.a,{children:Object(a.jsx)(p.a,{children:t.dialogText})}),Object(a.jsxs)(b.a,{children:[t.dialogLabelCancel&&Object(a.jsx)(j.a,{color:"secondary",onClick:function(){return n(!1)},children:t.dialogLabelCancel}),Object(a.jsx)(j.a,{color:"primary",autoFocus:!0,onClick:function(){return n(!0)},children:t.dialogLabelOk})]})]}):Object(a.jsx)(h.a,{ContentProps:{className:r[t.dialogType]},open:0==t.dialogModal&&t.dialogIsOpen,autoHideDuration:6e3,onClose:n,message:t.dialogText,action:Object(a.jsx)(f.a,{size:"small","aria-label":"close",color:"inherit",onClick:n,children:Object(a.jsx)(m.a,{fontSize:"small"})})})}var v=Object(g.a)((function(e){return{info:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},warning:{backgroundColor:e.palette.warning.main,color:e.palette.warning.contrastText},error:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},success:{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText}}})),w=n(22),_=n(18),y=n(9),k=n(3),C=n(258),I=n(211),S=n(112),T=n.n(S),E=n(257),A=n(210),N=n(11),P=n(158),R=n(204),D=n(205),L=n(206),U=n(209),B=n(207),W=n(208),F=n(31);function z(e){var t,n=e.value,s=e.parent,o=M(),i=Object(w.f)(),c=Object(w.g)(n.route),l=Object(r.useState)(!0),u=Object(N.a)(l,2),d=u[0],p=u[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(P.a,{button:!0,onClick:function(){var e;null==(e=n).children?i.push(e.route):p(!d)},className:Object(k.a)(o.root,(t={},Object(y.a)(t,o.nested,null!=s),Object(y.a)(t,o.selected,c&&n.route),t)),children:[Object(a.jsx)(R.a,{children:n.icon&&Object(a.jsx)(D.a,{badgeContent:null,color:"error",children:Object(a.jsx)(n.icon,{className:Object(k.a)(Object(y.a)({},o.selectedIcon,c&&n.route))})})}),Object(a.jsx)(L.a,{primary:F.a.t(n.text)}),n.children&&(d?Object(a.jsx)(B.a,{}):Object(a.jsx)(W.a,{}))]}),n.children&&Object(a.jsx)(U.a,{in:d,timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(A.a,{component:"div",disablePadding:!0,children:n.children.map((function(e,t){return Object(a.jsx)(z,{value:e,parent:n},t)}))})})]})}var M=Object(g.a)((function(e){return Object(E.a)({selected:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,"&:hover":{backgroundColor:e.palette.primary.light}},selectedIcon:{color:e.palette.primary.contrastText},nested:{paddingLeft:e.spacing(4)}})}));function K(){var e=H(),t=Object(O.b)().getDrawerList;return Object(a.jsx)(A.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:e.root,children:t().map((function(e,t){return Object(a.jsx)(z,{value:e},t)}))})}var H=Object(g.a)((function(e){return Object(E.a)({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}})}));function G(){var e,t,n=Y(),r=Object(O.b)(),s=r.state,o=r.setDrawerIsOpen;return Object(a.jsxs)(C.a,{variant:"permanent",className:Object(k.a)(n.drawer,(e={},Object(y.a)(e,n.drawerOpen,s.drawerIsOpen),Object(y.a)(e,n.drawerClose,!s.drawerIsOpen),e)),classes:{paper:Object(k.a)(n.drawerPaper,(t={},Object(y.a)(t,n.drawerOpen,s.drawerIsOpen),Object(y.a)(t,n.drawerClose,!s.drawerIsOpen),t))},children:[Object(a.jsx)("div",{className:n.toolbar,children:Object(a.jsx)(f.a,{onClick:function(){return o(!s.drawerIsOpen)},children:Object(a.jsx)(T.a,{})})}),Object(a.jsx)(I.a,{}),Object(a.jsx)(K,{})]})}var Y=Object(g.a)((function(e){return{drawer:{width:e.app.drawer.width,flexShrink:0,whiteSpace:"nowrap"},drawerPaper:{height:"100%"},drawerOpen:{width:e.app.drawer.width,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(y.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(_.a)({display:"flex",alignItems:"center",justifyContent:"flex-start",padding:e.spacing(0,1)},e.mixins.toolbar)}})),q=n(218),X=n(219),V=n(216),Z=n(217),J=n(45),Q=n(220),$=n(212),ee=n(214),te=n(215),ne=n(119),ae=n(252),re=n(213),se=n(259),oe=n(256),ie=n(30);function ce(){var e=le(),t=Object(w.f)(),n=Object(r.useState)(null),s=Object(N.a)(n,2),o=s[0],i=s[1],c=Object(oe.a)().t,l=Object(ie.useAuth)(),u=l.state,d=l.logout,p=Object(O.b)(),b=p.toggleTheme,j=p.isDarkTheme,h=function(){return i(null)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(f.a,{color:"inherit",onClick:function(e){return i(e.currentTarget)},children:Object(a.jsx)($.a,{"aria-label":"account icon"})}),Object(a.jsxs)(ne.a,{id:"simple-menu",anchorEl:o,open:Boolean(o),onClose:h,children:[Object(a.jsxs)(ae.a,{className:e.box,children:[Object(a.jsx)(J.a,{variant:"subtitle2",children:u.user.username}),Object(a.jsxs)(J.a,{variant:"caption",children:["(",c("app.roles.".concat(u.user.role)),")"]})]}),Object(a.jsx)(I.a,{}),Object(a.jsxs)(re.a,{onClick:b,children:[Object(a.jsx)(R.a,{children:Object(a.jsx)(se.a,{edge:"start",checked:j()})}),c("app.avatar.dark")]}),Object(a.jsxs)(re.a,{onClick:function(e){h(),t.push("/profile")},children:[Object(a.jsx)(R.a,{children:Object(a.jsx)(ee.a,{fontSize:"small"})}),c("app.avatar.profile")]}),Object(a.jsxs)(re.a,{onClick:function(e){h(),d({flash:!0})},children:[Object(a.jsx)(R.a,{children:Object(a.jsx)(te.a,{fontSize:"small"})}),c("app.avatar.logout")]})]})]})}var le=Object(g.a)((function(e){return{box:{padding:e.spacing(1,2,1,2),display:"flex",flexDirection:"column"}}}));function ue(e){var t=e.renderLeft,n=e.renderRight,r=e.children,s=e.className,o=e.isPage,i=de();return Object(a.jsxs)("div",{className:Object(k.a)(s,i.central,Object(y.a)({},i.central_page,o)),children:[Object(a.jsx)("div",{className:i.space,children:t}),Object(a.jsx)("div",{className:Object(k.a)(i.body,Object(y.a)({},i.body_page,o)),children:r}),Object(a.jsx)("div",{className:Object(k.a)(i.space,Object(y.a)({},i.space_page,o)),children:n})]})}var de=Object(g.a)((function(e){return{central:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center"},space:{flex:"1 1 0%",display:"flex"},body:{display:"flex",flex:"3 1 0%",minWidth:"400px",maxWidth:"700px"},central_page:{flexGrow:"1",alignItems:"stretch"},body_page:{margin:"40px 0 0 0",flexDirection:"column"},space_page:{display:"block"}}}));function pe(){var e=be(),t=Object(O.b)(),n=t.state,r=t.setDrawerIsOpen;return Object(a.jsxs)(V.a,{position:"fixed",className:Object(k.a)(e.appBar,Object(y.a)({},e.appBarShift,n.drawerIsOpen)),children:[Object(a.jsxs)(Z.a,{children:[Object(a.jsx)(f.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return r(!n.drawerIsOpen)},edge:"start",className:Object(k.a)(e.menuButton,Object(y.a)({},e.hide,n.drawerIsOpen)),children:Object(a.jsx)(q.a,{})}),Object(a.jsx)(ue,{renderLeft:Object(a.jsx)(J.a,{variant:"h6",noWrap:!0,className:e.title,children:n.title}),renderRight:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:e.grow}),Object(a.jsx)(f.a,{color:"inherit",children:Object(a.jsx)(D.a,{badgeContent:3,color:"error",children:Object(a.jsx)(X.a,{})})}),Object(a.jsx)(ce,{})]}),children:Object(a.jsx)(w.c,{children:Object(a.jsx)(w.a,{path:"/users"})})})]}),n.busy&&Object(a.jsx)(Q.a,{})]})}var be=Object(g.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:e.app.drawer.width,width:"calc(100% - ".concat(e.app.drawer.width,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},title:{minWidth:"150px"},grow:{flexGrow:1}}}));function je(e){var t=e.children,n=he();return Object(a.jsxs)("main",{className:n.content,children:[Object(a.jsx)("div",{className:n.toolbar,id:"toolbar_space"}),t]})}var he=Object(g.a)((function(e){return{toolbar:Object(_.a)({display:"flex"},e.mixins.toolbar),content:{flexGrow:1,display:"flex",flexDirection:"column"},container:{flexGrow:"1"}}}));function fe(){var e=ge();return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(J.a,{variant:"caption",children:"Copyright 2020"}),Object(a.jsx)("div",{className:e.space})]})}var ge=Object(g.a)((function(e){return{root:{display:"flex",alignItems:"center",position:"fixed",bottom:0,zIndex:1201,width:"100%",height:e.app.footerbar.height,padding:e.spacing(0,2),backgroundColor:e.palette.background.paper,borderTop:"1px solid rgba(0, 0, 0, 0.12)"},space:{flex:"1 1 0%"}}})),me=n(12);function Oe(){return Object(me.e)("user")}var xe=n(227),ve=n(98),we=n(228),_e=n(229),ye=n(230),ke=n(231),Ce=n(232),Ie=n(226),Se=n(233);function Te(e){var t=e.children,n=e.renderFooter,r=e.renderMenu,s=Ee();return Object(a.jsxs)("div",{className:s.frame,children:[Object(a.jsx)(ue,{isPage:!0,className:s.body,renderRight:r&&Object(a.jsx)("div",{className:s.menu,children:r}),children:t}),n&&Object(a.jsx)(ue,{className:s.footer,children:n})]})}var Ee=Object(g.a)((function(e){return{frame:{display:"flex",flexDirection:"column",height:"100%"},body:{marginBottom:"50px"},menu:{display:"flex",flexDirection:"column",position:"sticky",top:"64px",padding:"49px 16px 16px 0px",margin:"0 0 0 40px"},footer:{borderTop:"#e0e0e0 1px solid",padding:"18px 0",display:"flex",flexDirection:"row",alignItems:"center",position:"sticky",zIndex:"1",bottom:"".concat(e.app.footerbar.height,"px"),height:"70px",backgroundColor:e.palette.background.default}}})),Ae=n(224),Ne=n(262),Pe=n(255),Re=n(225),De=n(221),Le=n(260),Ue=n(253),Be=[{code:100,desc:"administartor"},{code:200,desc:"crew"}];function We(e){var t=e.label,n=e.value,r=e.onChange,s=e.disabled,o=Object(oe.a)().t;return Object(a.jsxs)(De.a,{children:[Object(a.jsx)(Le.a,{id:"demo-simple-select-label",children:t}),Object(a.jsx)(Ue.a,{autoWidth:!0,labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,onChange:r,disabled:s,children:Be.map((function(e){return Object(a.jsx)(re.a,{value:e.code,children:o("app.roles.".concat(e.code))},e.code)}))})]})}function Fe(){var e=Oe(),t=e.state,n=e.dialogClose,s=e.setItemInEdit,o=e.setDialogPassword2,i=Object(me.f)([me.c.obligatory]),c=Object(N.a)(i,4),p=c[0],h=c[1],g=c[2],m=c[3],x=Object(me.f)([me.c.obligatory]),v=Object(N.a)(x,4),w=v[0],y=v[1],k=v[2],C=v[3],S=Object(me.f)([me.c.obligatory]),T=Object(N.a)(S,5),E=T[0],A=T[1],P=T[2],R=T[3],D=T[4],L=Object(oe.a)().t,U=Object(O.b)().state,B=ze();return Object(r.useEffect)((function(){"username"==U.focus&&m.current.focus()}),[U.focus]),Object(r.useEffect)((function(){0!=t.dialogIsOpen&&setTimeout((function(){return m.current.focus()}),500)}),[t.dialogIsOpen,m]),t.itemInEdit&&Object(a.jsxs)(l.a,{fullWidth:!0,maxWidth:"xs",open:t.dialogIsOpen,onClose:function(){return n(!1)},children:[Object(a.jsx)(u.a,{classes:{root:B.title},children:L("pag.user.dlg.".concat(t.itemInEdit.id?"title_edit":"title_new"))}),Object(a.jsx)(I.a,{}),Object(a.jsxs)(d.a,{classes:{root:B.content},children:[Object(a.jsxs)(Ae.a,{container:!0,alignItems:"center",children:[Object(a.jsx)(Ae.a,{item:!0,sm:!0,children:Object(a.jsx)(Ne.a,{autoFocus:!0,fullWidth:!0,inputRef:m,error:h(),helperText:p,label:L("pag.user.dlg.lbl_username"),margin:"dense",value:t.itemInEdit.username,onChange:function(e){return s(Object(_.a)(Object(_.a)({},t.itemInEdit),{},{username:g(e)}))}})}),Object(a.jsx)(ae.a,{mr:2}),Object(a.jsx)(Ae.a,{item:!0,children:Object(a.jsx)(We,{label:L("pag.user.dlg.lbl_role"),value:t.itemInEdit.role,onChange:function(e){return s(Object(_.a)(Object(_.a)({},t.itemInEdit),{},{role:e.target.value}))}})})]}),null==t.itemInEdit.id&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ne.a,{fullWidth:!0,type:"password",inputRef:C,error:y(),helperText:w,label:L("pag.user.dlg.lbl_password"),margin:"dense",value:t.itemInEdit.password,onChange:function(e){return s(Object(_.a)(Object(_.a)({},t.itemInEdit),{},{password:k(e)}))},InputProps:{endAdornment:Object(a.jsx)(Pe.a,{title:L("app.tooltip.clipboard"),placement:"top",children:Object(a.jsx)(f.a,{onClick:function(){navigator.clipboard.writeText(t.itemInEdit.password)},children:Object(a.jsx)(Re.a,{"aria-label":"copy in clipboard icon"})})})}}),Object(a.jsx)(Ne.a,{fullWidth:!0,type:"password",inputRef:R,error:A(),helperText:E,label:L("pag.user.dlg.lbl_password2"),margin:"dense",value:t.dialogPassword2,onChange:function(e){return o(P(e))}})]})]}),Object(a.jsxs)(b.a,{classes:{root:B.action},children:[Object(a.jsx)(j.a,{color:"secondary",onClick:function(){return n(!1)},children:L("pag.user.dlg.cancel")}),Object(a.jsx)(j.a,{color:"primary",autoFocus:!0,onClick:function(){return Object(me.g)((function(){return n(!0)}),[D(me.c.repassword(t.itemInEdit.password))])},children:L("pag.user.dlg.save")})]})]})}var ze=Object(g.a)((function(e){return{title:{padding:"25px 50px 16px 50px"},subtitle:{color:e.palette.grey.A700},content:{paddingLeft:"50px",paddingRight:"50px"},action:{padding:"16px 34px 16px 40px"}}}));function Me(){var e=Oe(),t=e.state,n=e.fetchAll,s=e.dialogOpen,o=Object(O.b)().setTitle,i=Object(oe.a)().t,c=Ke();return Object(r.useEffect)((function(){o(i("pag.user.title")),n()}),[]),Object(a.jsxs)(Te,{renderFooter:Object(a.jsx)(j.a,{variant:"contained",color:"primary",startIcon:Object(a.jsx)(Ie.a,{}),onClick:function(){return s()},children:i("pag.user.btt_new")}),children:[Object(a.jsx)(xe.a,{component:ve.a,children:t.all?Object(a.jsxs)(we.a,{className:c.table,"aria-label":"simple table",children:[Object(a.jsx)(_e.a,{children:Object(a.jsxs)(ye.a,{children:[Object(a.jsx)(ke.a,{children:i("pag.user.tbl.username")}),Object(a.jsx)(ke.a,{children:i("pag.user.tbl.role")}),Object(a.jsx)(ke.a,{align:"center",className:c.actionsCell,children:i("pag.user.tbl.actions")})]})}),Object(a.jsx)(Ce.a,{children:t.all.map((function(e){return Object(a.jsxs)(ye.a,{hover:!0,onClick:function(){return s(e.id)},children:[Object(a.jsx)(ke.a,{children:e.username}),Object(a.jsx)(ke.a,{children:i("app.roles.".concat(e.role))}),Object(a.jsx)(ke.a,{align:"center",className:c.actionsCell,children:Object(a.jsx)(f.a,{id:"btt-delete",children:Object(a.jsx)(Se.a,{})})})]},e.id)}))})]}):Object(a.jsx)("div",{children:"..."})}),Object(a.jsx)(Fe,{})]})}var Ke=Object(g.a)({table:{},container:{display:"flex",justifyContent:"flex-end",marginTop:"14px"},actionsCell:{width:"100px"}}),He=n(241),Ge=n(234),Ye=n(235),qe=n(236),Xe=n(238),Ve=n(239),Ze=n(237);function Je(e){var t=e.id,n=e.title,r=e.children,s=e.renderFooter,o=e.footerBusy,i=e.bodyBusy,c=e.haveExpand,l=Qe();return Object(a.jsxs)(Ge.a,{className:l.root,id:t,children:[Object(a.jsx)(Ye.a,{title:n}),Object(a.jsx)(qe.a,{className:c?l.content:null,children:i?Object(a.jsx)(Ze.a,{animation:"wave",variant:"rect",height:200}):r}),s&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I.a,{className:l.divider}),Object(a.jsx)(Xe.a,{className:l.actions,children:o?Object(a.jsx)(Ve.a,{size:36,className:l.progress}):s})]})]})}var Qe=Object(g.a)((function(e){return{root:{padding:"9px 16px 16px 16px",marginBottom:e.spacing(3)},content:{paddingBottom:"0px!important"},actions:{padding:"16px"},progress:{marginLeft:"8px"},divider:{margin:"9px -17px;"}}})),$e=n(240);function et(e){var t=e.label,n=e.sublabel,r=e.children,s=e.isChanged,o=e.wrap,i=e.onClickLabel,c=e.isDense,l=tt();return Object(a.jsxs)(Ae.a,{container:!0,alignItems:"center",className:l.root,children:[Object(a.jsx)(Ae.a,{item:!0,sm:c?2:3,onClick:i,className:i&&l.labelClickable,children:Object(a.jsxs)("div",{className:l.containerLabels,children:[Object(a.jsxs)("div",{className:l.label,children:[s&&Object(a.jsx)($e.a,{color:"secondary",className:l.icon}),Object(a.jsx)(J.a,{variant:"body2",children:t})]}),n&&Object(a.jsx)(J.a,{variant:"caption",className:l.sublabel,children:n})]})}),Object(a.jsx)(Ae.a,{item:!0,container:!0,sm:c?10:9,alignItems:"center",wrap:o?"wrap":"nowrap",children:r})]})}var tt=Object(g.a)((function(e){return{root:{minHeight:"44px",marginBottom:"10px","&:last-child":{marginBottom:"0px"}},containerLabels:{display:"flex",flexDirection:"column"},labelClickable:{cursor:"pointer"},label:{display:"flex"},sublabel:{fontWeight:"100",color:e.palette.text.secondary},icon:{fontSize:"17px",color:e.palette.secondary.main,margin:"0px 2px 0px -19px"}}})),nt=n(8),at=n.n(nt),rt=n(20);function st(e){var t=e.onGetRules,n=e.variant,s=void 0===n?"standard":n,o=Object(oe.a)().t,i=Object(ie.useAuth)(),c=i.state,l=i.setPassword,u=i.setOldPassword,d=i.setRepassword,p=Object(me.f)([me.c.obligatory]),b=Object(N.a)(p,5),j=b[0],h=b[1],f=b[2],g=b[3],m=b[4],x=Object(me.f)([me.c.obligatory]),v=Object(N.a)(x,4),w=v[0],_=v[1],y=v[2],k=v[3],C=Object(me.f)([me.c.obligatory]),I=Object(N.a)(C,5),S=I[0],T=I[1],E=I[2],A=I[3],P=I[4],R=Object(O.b)().state;return Object(r.useEffect)((function(){0!=c.isChangePasswordOpen&&setTimeout((function(){return g.current.focus()}),500)}),[c.isChangePasswordOpen,g]),Object(r.useEffect)((function(){t([P(me.c.repassword(c.password)),m(me.c.notTheSame(c.password))])}),[m,P]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ne.a,{fullWidth:!0,autoFocus:!0,disabled:R.busy,inputRef:g,label:o("pag.password.oldpassword"),type:"password",variant:s,margin:"normal",value:c.oldpassword,onChange:function(e){return u(f(e))},error:h(),helperText:j}),Object(a.jsx)(Ne.a,{fullWidth:!0,disabled:R.busy,inputRef:k,label:o("pag.password.password"),type:"password",variant:s,margin:"normal",value:c.password,onChange:function(e){return l(y(e))},error:_(),helperText:w}),Object(a.jsx)(Ne.a,{fullWidth:!0,disabled:R.busy,inputRef:A,label:o("pag.password.repassword"),type:"password",variant:s,margin:"normal",value:c.repassword,onChange:function(e){return d(E(e))},error:T(),helperText:S})]})}function ot(){var e=Object(ie.useAuth)(),t=e.state,n=e.setIsChangePasswordOpen,r=e.changePassword,s=Object(oe.a)().t,o=function(){var e=Object(rt.a)(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:if(!e.sent.error){e.next=5;break}return e.abrupt("return");case 5:n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=null;return Object(a.jsxs)(l.a,{fullWidth:!0,maxWidth:"xs",open:t.isChangePasswordOpen,onClose:function(){return n(!1)},children:[Object(a.jsx)(u.a,{children:s("pag.profile.dlg.title")}),Object(a.jsx)(d.a,{children:Object(a.jsx)(st,{onGetRules:function(e){i=e}})}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(j.a,{color:"secondary",onClick:function(){return n(!1)},children:s("pag.profile.dlg.cancel")}),Object(a.jsx)(j.a,{color:"primary",autoFocus:!0,onClick:function(){return Object(me.g)(o,i)},children:s("pag.profile.dlg.save")})]})]})}function it(){var e=Object(oe.a)().t,t=Object(ie.useAuth)(),n=t.state,r=t.setIsChangePasswordOpen;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Je,{title:e("pag.profile.par_general"),renderFooter:Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(j.a,{variant:"contained",disableElevation:!0,color:"primary",startIcon:Object(a.jsx)(He.a,{}),onClick:function(){return r(!0)},children:e("pag.profile.btn_change_password")})}),children:[Object(a.jsx)(et,{label:e("pag.profile.prp_username"),children:Object(a.jsx)(J.a,{children:n.user.username})}),Object(a.jsx)(et,{label:e("pag.profile.prp_role"),children:Object(a.jsx)(J.a,{children:e("app.roles.".concat(n.user.role))})})]}),Object(a.jsx)(ot,{})]})}var ct=n(242);function lt(e){var t=e.label,n=e.id,r=ut();return Object(a.jsx)(ct.a,{underline:"none",onClick:function(){return function(e){var t=document.getElementById(e).getBoundingClientRect().top+window.scrollY-70;window.scroll({top:t,behavior:"smooth"})}(n)},className:r.link,children:t})}var ut=Object(g.a)((function(e){return{link:{marginBottom:e.spacing(2),cursor:"pointer"}}}));function dt(){var e=Object(O.b)().setTitle,t=Object(oe.a)().t;return Object(r.useEffect)((function(){e(t("pag.profile.title"))}),[]),Object(a.jsx)(Te,{renderMenu:Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(lt,{label:t("pag.profile.par_general"),id:"general"})}),children:Object(a.jsx)(it,{})})}var pt=n(29),bt=n(26),jt=n(51),ht=n(88),ft=n(243),gt=function(e){Object(jt.a)(n,e);var t=Object(ht.a)(n);function n(e){var a;return Object(pt.a)(this,n),(a=t.call(this,e)).handleClickReload=function(e){a.setState({hasError:!1})},a.state={hasError:!1,msg:""},a}return Object(bt.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({msg:e.message})}},{key:"render",value:function(){return this.state.hasError?Object(a.jsxs)(Ge.a,{style:mt,children:[Object(a.jsx)(Ye.a,{title:F.a.t("dialog.render_error.title")}),Object(a.jsxs)(qe.a,{children:[Object(a.jsx)(J.a,{children:F.a.t("dialog.render_error.body")}),Object(a.jsx)(J.a,{variant:"body2",children:this.state.msg})]}),Object(a.jsx)(I.a,{}),Object(a.jsx)(Xe.a,{children:Object(a.jsx)(j.a,{startIcon:Object(a.jsx)(ft.a,{}),onClick:this.handleClickReload,children:F.a.t("dialog.render_error.reload")})})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(s.a.Component),mt={marginBottom:"auto",marginTop:"auto",alignSelf:"center",maxWidth:"450px"};function Ot(){var e=xt();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(pe,{}),Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsxs)("div",{className:e.center,children:[Object(a.jsx)(G,{}),Object(a.jsx)(je,{children:Object(a.jsx)(gt,{children:Object(a.jsxs)(w.c,{children:[Object(a.jsx)(w.a,{path:"/users",children:Object(a.jsx)(gt,{children:Object(a.jsx)(Me,{})})}),Object(a.jsx)(w.a,{path:"/profile",children:Object(a.jsx)(gt,{children:Object(a.jsx)(dt,{})})})]})})})]}),Object(a.jsx)(fe,{})]})]})}var xt=Object(g.a)((function(e){return{container:{display:"flex",flexDirection:"column",height:"100%"},center:{display:"flex",height:"100%"}}})),vt=n(244),wt=n(263),_t=n(245);function yt(){var e=kt(),t=Object(oe.a)().t,n=Object(me.f)([me.c.obligatory]),s=Object(N.a)(n,4),o=s[0],i=s[1],c=s[2],l=s[3],u=Object(me.f)([me.c.obligatory]),d=Object(N.a)(u,4),p=d[0],b=d[1],h=d[2],f=d[3],g=Object(ie.useAuth)(),m=g.state,x=g.setUsername,v=g.setPassword,w=g.login,_=Object(O.b)().state;return Object(r.useEffect)((function(){"password"==_.focus&&l.current.focus()}),[_.focus]),Object(a.jsx)(vt.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(wt.a,{className:e.avatar,children:Object(a.jsx)(_t.a,{})}),Object(a.jsx)(J.a,{component:"h1",variant:"h5",children:t("pag.login.title")}),Object(a.jsx)(Ne.a,{fullWidth:!0,autoFocus:!0,disabled:_.busy,inputRef:l,label:t("pag.login.username"),variant:"outlined",margin:"normal",value:m.username,onChange:function(e){return x(c(e))},error:i(),helperText:o}),Object(a.jsx)(Ne.a,{fullWidth:!0,disabled:_.busy,inputRef:f,label:t("pag.login.password"),type:"password",variant:"outlined",margin:"normal",value:m.password,onChange:function(e){return v(h(e))},error:b(),helperText:p}),0==_.busy?Object(a.jsx)(j.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){return Object(me.g)((function(){return w()}))},children:t("pag.login.btt_signin")}):Object(a.jsx)(Ve.a,{})]})})}var kt=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ct(){var e=It(),t=Object(oe.a)().t,n=Object(ie.useAuth)(),r=n.changePassword,s=n.logout,o=Object(O.b)().state,i=null;return Object(a.jsx)(vt.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(wt.a,{className:e.avatar,children:Object(a.jsx)(He.a,{})}),Object(a.jsx)(J.a,{component:"h1",variant:"h5",children:t("pag.password.title")}),Object(a.jsx)(st,{variant:"outlined",onGetRules:function(e){return i=e}}),0==o.busy?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(j.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){return Object(me.g)(r,i)},children:t("pag.password.btt_change")}),Object(a.jsx)(j.a,{fullWidth:!0,onClick:function(){return s({flash:!0})},children:t("pag.password.btt_logout")})]}):Object(a.jsx)(Ve.a,{})]})})}var It=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),St=n(246);function Tt(){var e=Object(ie.useAuth)(),t=e.isLogged,n=e.isRepassword,s=e.refresh,o=Object(O.b)().state;return Object(r.useEffect)((function(){s()}),[]),Object(a.jsxs)(St.a,{theme:o.theme,children:[Object(a.jsx)(c.a,{}),Object(a.jsx)(x,{}),0==t()?Object(a.jsx)(yt,{}):n()?Object(a.jsx)(Ct,{}):Object(a.jsx)(Ot,{})]})}var Et=n(62),At=n(75),Nt={en:{translation:n(117)}};F.a.use(At.e).init({resources:Nt,debug:!0,lng:"en",interpolation:{escapeValue:!1}});F.a,n(152);var Pt=n(52),Rt=n.n(Pt),Dt={baseUrl:"/api/"};function Lt(e,t,n,a){var r,s=t.slice(0,-1!=(r=t.indexOf("/"))?r:void 0);return["dialog.error.".concat(s,".").concat(n,".").concat(a),"dialog.error.".concat(s,".default.").concat(a),"dialog.error.".concat(e,".").concat(n,".").concat(a),"dialog.error.".concat(e,".default.").concat(a),"dialog.error.default.".concat(a)]}var Ut=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;Object(pt.a)(this,e),this.options=Object(_.a)(Object(_.a)({},Dt),t)}return Object(bt.a)(e,[{key:"post",value:function(){var e=Object(rt.a)(at.a.mark((function e(t,n,a){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send(t,"POST",n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(rt.a)(at.a.mark((function e(t,n,a){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send(t,"GET",n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(rt.a)(at.a.mark((function e(t,n,a){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send(t,"PATCH",n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(rt.a)(at.a.mark((function e(t,n,a){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send(t,"PUT",n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(rt.a)(at.a.mark((function e(t,n,a){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send(t,"DELETE",n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=Object(rt.a)(at.a.mark((function e(t,n,a){var r,s,o,i,c,l,u,d,p,b=arguments;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.length>3&&void 0!==b[3]?b[3]:{},s=Object(O.a)(),o=s.setBusy,i=s.dialogOpen,c=s.setFocus,r.noBusy||o(!0),e.next=5,fetch("".concat(this.options.baseUrl).concat(t),{method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Rt.a.get("token"))},body:a?JSON.stringify(a):void 0});case 5:return l=e.sent,r.noBusy||o(!1),c(""),u=l.status,d=null,e.prev=10,e.next=13,l.json();case 13:d=e.sent,e.next=18;break;case 16:e.prev=16,e.t0=e.catch(10);case 18:if(!(u>=400)){e.next=24;break}return p=d&&d.errors&&d.errors[0]?d.errors[0]:{code:"default",field:""},e.next=22,i({type:"error",title:F.a.t(Lt(u,t,p.code,"title")),text:F.a.t(Lt(u,t,p.code,"text")),labelOk:F.a.t(Lt(u,t,p.code,"ok"))});case 22:throw c(p.field),l;case 24:return e.abrupt("return",d);case 25:case"end":return e.stop()}}),e,this,[[10,16]])})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}()),Bt=null,Wt={state:{user:null,token:Rt.a.get("token"),username:"",oldpassword:"",password:"",repassword:"",isChangePasswordOpen:!1},getters:{isLogged:function(e){return null!=e.token&&null!=e.user},isRepassword:function(e){return null!=e.user&&1==e.user.has_to_change_password}},actions:{login:function(){var e=Object(rt.a)(at.a.mark((function e(t,n,a,r){var s,o,i;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.dialogOpen,o={username:t.username,password:t.password},a.resetTexts(),e.prev=3,e.next=6,Ut.post("auth/login",o);case 6:i=e.sent,a.setToken(i.access_token),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(3),a.logout(),e.abrupt("return");case 14:return s({type:"success",text:F.a.t("app.auth.msg_login"),modal:!1}),e.next=17,a.fetchCurrentUser();case 17:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),logout:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{flash:!1},n=t.flash,a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=r.dialogOpen;a.stopPollingRefreshToken(),a.setToken(null),a.setUser(null),n&&s({type:"success",text:F.a.t("app.auth.msg_logout"),modal:!1})},refresh:function(){var e=Object(rt.a)(at.a.mark((function e(t,n,a){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.token){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.fetchCurrentUser();case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),changePassword:function(){var e=Object(rt.a)(at.a.mark((function e(t,n,a,r){var s,o;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.dialogOpen,o={old_password:t.oldpassword,new_password:t.repassword},a.resetTexts(),e.prev=3,e.next=6,Ut.patch("users/".concat(t.user.id,"/password"),o);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",{error:!0});case 11:return s({type:"success",text:F.a.t("pag.password.msg_success"),modal:!1}),a.setUser(Object(_.a)(Object(_.a)({},t.user),{},{has_to_change_password:!1})),e.abrupt("return",{error:!1});case 14:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),fetchCurrentUser:function(){var e=Object(rt.a)(at.a.mark((function e(t,n,a,r){var s;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setDrawerListByUser,e.prev=1,e.next=4,Ut.get("auth/me");case 4:s=e.sent,a.setUser(s),a.startPollingRefreshToken(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a.logout();case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),refreshToken:function(){var e=Object(rt.a)(at.a.mark((function e(t,n,a){var r;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ut.get("auth/refresh",null,{noBusy:!0});case 3:r=e.sent,a.setToken(r.access_token),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a.logout();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),startPollingRefreshToken:function(e,t,n){if(null==Bt){var a=null!=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TOKEN_POLLING_TIME?+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TOKEN_POLLING_TIME:72e4;Bt=setInterval((function(){n.refreshToken()}),a)}},stopPollingRefreshToken:function(e,t,n){null!=Bt&&(clearInterval(Bt),Bt=null)}},mutators:{setUser:function(e,t,n,a){a.setDrawerListByUser;return{user:t}},setToken:function(e,t,n){return null==t?Rt.a.remove("token"):Rt.a.set("token",t),{token:t}},setIsChangePasswordOpen:function(e,t){return{isChangePasswordOpen:t}},setUsername:function(e,t){return{username:t}},setPassword:function(e,t){return{password:t}},setOldPassword:function(e,t){return{oldpassword:t}},setRepassword:function(e,t){return{repassword:t}},resetTexts:function(e){return{username:"",password:"",repassword:"",oldpassword:""}}}},Ft=n(248),zt=n(249),Mt=[{icon:Ft.a,text:"app.drawer.dashboard",route:"/dashboard"},{icon:zt.a,text:"app.drawer.admin.user",route:"/users"}],Kt=[{icon:Ft.a,text:"app.drawer.dashboard",route:"/dashboard"}],Ht=[],Gt=n(91),Yt=n(250),qt=n(90),Xt=n(251),Vt=n(92),Zt=n(118),Jt={app:{footerbar:{height:30,zIndex:1201},drawer:{width:240}}},Qt=Object(Zt.a)(Object(_.a)(Object(_.a)({},Jt),{},{palette:{type:"light",primary:{main:Gt.a[800]},secondary:{main:Yt.a[800]},error:{main:qt.a[800]},warning:{main:Xt.a[800]},success:{main:Vt.a[800]}}})),$t=Object(Zt.a)(Object(_.a)(Object(_.a)({},Jt),{},{palette:{type:"dark",primary:{main:Gt.a[600]},secondary:{main:Yt.a[600]},error:{main:qt.a[600]},warning:{main:Xt.a[600]},success:{main:Vt.a[600]}}})),en=null,tn={state:{busy:!1,title:"",focus:"",drawerIsOpen:!0,dialogIsOpen:!1,dialogTitle:"",dialogText:"",dialogLabelOk:"",dialogLabelCancel:null,dialogModal:!0,dialogType:"info",theme:"dark"==Rt.a.get("theme")?$t:Qt},getters:{getDrawerList:function(e,t,n){var a=Object(ie.getStoreAuth)().state;return null==a.user?Ht:100==a.user.role?Mt:Kt},isDarkTheme:function(e,t,n){return e.theme==$t}},actions:{dialogOpen:function(e,t,n){return n.setDialogOpen(t),new Promise((function(e,t){en=e}))},dialogClose:function(e,t,n){e.dialogIsOpen=!1,en&&en(t),en=null,n._update()}},mutators:{setBusy:function(e,t){return{busy:t}},setTitle:function(e,t){return{title:t}},setFocus:function(e,t){return{focus:t}},toggleTheme:function(e){return Rt.a.set("theme",e.theme==Qt?"dark":"light"),{theme:e.theme==Qt?$t:Qt}},setDrawerIsOpen:function(e,t){return{drawerIsOpen:t}},setDialogIsOpen:function(e,t){return{dialogIsOpen:t}},setDialogOpen:function(e,t){var n=t.title,a=void 0===n?"":n,r=t.text,s=void 0===r?"":r,o=t.labelOk,i=void 0===o?"Ok":o,c=t.labelCancel,l=void 0===c?null:c,u=t.modal,d=void 0===u||u,p=t.type;return{dialogTitle:a,dialogText:s,dialogIsOpen:!0,dialogLabelOk:i,dialogLabelCancel:l,dialogModal:d,dialogType:void 0===p?"info":p}}}},nn=n(23),an={state:{item:null,all:null,itemInEdit:null,dialogIsOpen:!1,dialogPassword2:""},getters:{getItemById:function(e,t){return e.all.find((function(e){return e.id==t}))},getItemIndexById:function(e,t){return e.all.findIndex((function(e){return e.id==t}))}},actions:{fetchAll:function(e,t,n){return Object(rt.a)(at.a.mark((function e(){var t;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut.get("users");case 2:t=e.sent,n.setAll(t);case 4:case"end":return e.stop()}}),e)})))()},save:function(e,t,n){return Object(rt.a)(at.a.mark((function e(){var a;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.id){e.next=6;break}return e.next=3,Ut.post("users",t);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,Ut.patch("users/".concat(t.id),t);case 8:e.t0=e.sent;case 9:a=e.t0,n.setItemInAll(a);case 11:case"end":return e.stop()}}),e)})))()},destroy:function(e,t,n){return Object(rt.a)(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}throw new Error("invalid parameter");case 2:return e.next=4,Ut.delete("users/".concat(t));case 4:n.deleteItemInAll(t);case 5:case"end":return e.stop()}}),e)})))()},dialogOpen:function(e,t,n){var a=null!=t?n.getItemById(t):rn();n.setItemInEdit(a),n.setDialogIsOpen(!0)},dialogClose:function(e,t,n){return Object(rt.a)(at.a.mark((function a(){return at.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=9;break}return a.prev=1,a.next=4,n.save(e.itemInEdit);case 4:a.next=9;break;case 6:return a.prev=6,a.t0=a.catch(1),a.abrupt("return");case 9:n.setDialogIsOpen(!1),n.setDialogPassword2("");case 11:case"end":return a.stop()}}),a,null,[[1,6]])})))()}},mutators:{setAll:function(e,t){return{all:t}},setItemInAll:function(e,t,n){var a=n.getItemIndexById(t.id),r=Object(nn.a)(e.all);return-1==a?r.push(t):r.splice(a,1,t),{all:r}},deleteItemInAll:function(e,t,n){return{all:e.all.filter((function(e){return e.id!=t}))}},setItemInEdit:function(e,t){return{itemInEdit:t}},setDialogIsOpen:function(e,t){return{dialogIsOpen:t}},setDialogPassword2:function(e,t){return{dialogPassword2:t}}}},rn=function(){return{id:null,username:"",password:"",role:200}},sn=an;function on(){return Object(a.jsx)(me.a,{children:Object(a.jsx)(Et.a,{children:Object(a.jsx)(Tt,{})})})}Object(me.d)({auth:Wt,layout:tn,user:sn}),i.a.render(Object(a.jsx)(on,{}),document.getElementById("root"))},155:function(e,t,n){"use strict";n.r(t),n.d(t,"worker",(function(){return b}));var a=n(23),r=n(78),s=n(58);function o(e,t,n){return s.c[e](t,(function(e,t,a){var r=e.headers.get("Authorization");return null==r||0==r.startsWith("Bearer")?t(a.status(401)):n(e,t,a)}))}var i=[{id:"111",username:"admin",password:"secret",has_to_change_password:!0,role:100,token:"((admin))"},{id:"112",username:"admin2",password:"secret",has_to_change_password:!1,role:100,token:"((admin2))"},{id:"222",username:"mario",password:"secret",has_to_change_password:!0,role:200,token:"((crew))"},{id:"223",username:"giovanni",password:"secret",has_to_change_password:!1,role:200,token:"((crew2))"}],c=[{id:11,username:"Mario",role:200},{id:33,username:"Giovanni",role:200},{id:22,username:"Elisa",role:200}],l=[o("get","/api/users",(function(e,t,n){return t(n.delay(500),n.status(200),n.json(c))})),o("get","/api/users/:id",(function(e,t,n){return null==e.cookies.token?t(n.status(401)):t(n.delay(500),n.status(200),n.json({id:e.params.id,username:"Mario",role:200,has_to_change_password:!1,created_at:"2020-08-21T16:31:30.364146146Z",updated_at:"2020-08-21T19:55:50.188570215+03:00"}))})),o("post","/api/users",(function(e,t,n){if(null==e.cookies.token)return t(n.status(401));var a=e.body,r=a.username,s=a.password,o=a.role;return null==r||null==s||null==o?t(n.status(500)):null!=i.find((function(e){return e.username==r}))?t(n.status(400),n.json({errors:[{code:"unique",field:"username"}]})):t(n.delay(500),n.status(200),n.json({id:Math.floor(100*Math.random()),username:r,role:o,has_to_change_password:!0,created_at:"2020-08-21T16:31:30.364146146Z",updated_at:"2020-08-21T19:55:50.188570215+03:00"}))})),o("patch","/api/users/:id",(function(e,t,n){if(null==e.cookies.token)return t(n.status(401));var a=e.body,r=a.username,s=a.role;return r?t(n.delay(500),n.status(200),n.json({id:e.params.id,username:r,role:s,has_to_change_password:!1,created_at:"2020-08-21T16:31:30.364146146Z",updated_at:"2020-08-21T19:55:50.188570215+03:00"})):t(n.status(401))})),o("delete","/api/users/:id",(function(e,t,n){return null==e.cookies.token?t(n.status(401)):t(n.delay(500),n.status(200))})),o("patch","/api/users/:id/password",(function(e,t,n){if(null==e.cookies.token)return t(n.status(401));var a=e.body,r=a.old_password,s=a.new_password;return null==i.find((function(t){return t.password==r&&t.token==e.cookies.token}))?t(n.status(400),n.json({errors:[{code:"old_password_match",field:"old_password"}]})):(r&&s&&r!=s||t(n.status(500)),t(n.delay(500),n.status(200)))}))],u=n(18),d=[s.c.post("/api/auth/login",(function(e,t,n){var a=e.body,r=a.username,s=a.password;if(!r||!s)return t(n.status(500));var o=i.find((function(e){return e.username==r&&e.password==s}));return null==o?t(n.status(400),n.json({errors:[{code:"password_match",field:"password"}]})):t(n.delay(500),n.status(200),n.json({access_token:o.token}))})),s.c.get("/api/auth/me",(function(e,t,n){var a=e.cookies.token,r=i.find((function(e){return e.token==a}));if(null==r)return t(n.status(401));var s=Object(u.a)(Object(u.a)({},r),{},{password:void 0,token:void 0});return t(n.delay(200),n.status(200),n.json(s))})),s.c.get("/api/auth/refresh",(function(e,t,n){var a=e.cookies.token;return t(n.status(200),n.json({access_token:a}))})),s.c.get("/api/error/:code",(function(e,t,n){var a=e.params.code;return t(n.status(a))}))],p=[].concat(Object(a.a)(d),Object(a.a)(l)),b=r.a.apply(void 0,Object(a.a)(p))},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var a=n(12);function r(){return Object(a.b)("layout")}function s(){return Object(a.e)("layout")}},30:function(e,t,n){"use strict";n.r(t),n.d(t,"getStoreAuth",(function(){return s})),n.d(t,"useAuth",(function(){return o}));var a=n(17),r=n(12);function s(){var e=Object(a.a)();return Object(r.b)("auth",e)}function o(){var e=Object(a.b)();return Object(r.e)("auth",e)}}},[[154,1,2]]]);
//# sourceMappingURL=main.3ac88428.chunk.js.map